{"version":3,"file":"reactblockui.min.js","sources":["../node_modules/fbjs/lib/emptyFunction.js","../node_modules/fbjs/lib/invariant.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/index.js","../src/BlockUi.js","../src/Loader.js"],"sourcesContent":["\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport DefaultLoader from './Loader';\n\nconst propTypes = {\n  blocking: PropTypes.bool,\n  children: PropTypes.node,\n  renderChildren: PropTypes.bool,\n  className: PropTypes.string,\n  message: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.node,\n  ]),\n  loader: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n    PropTypes.node,\n  ]),\n  tag: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.func,\n  ]),\n};\n\nconst defaultProps = {\n  tag: 'div',\n  renderChildren: true,\n  loader: DefaultLoader,\n};\n\nclass BlockUi extends Component {\n  constructor(props) {\n    super(props);\n\n    this.tabbedUpTop = this.tabbedUpTop.bind(this);\n    this.tabbedDownTop = this.tabbedDownTop.bind(this);\n    this.tabbedUpBottom = this.tabbedUpBottom.bind(this);\n    this.tabbedDownBottom = this.tabbedDownBottom.bind(this);\n\n    this.catchTopFocus = c=> this.topFocus = c;\n    this.catchBlocker = c=> this.blocker = c;\n    this.catchHelper = c=> this.helper = c;\n\n  }\n\n  blockingTab(e, withShift = false) {\n    return this.props.blocking && (e.key === 'Tab' || e.keyCode === 9) && e.shiftKey == withShift;\n  }\n\n  tabbedUpTop(e) {\n    if (this.blockingTab(e)) {\n      this.blocker.focus();\n    }\n  }\n\n  tabbedDownTop(e) {\n    if (this.blockingTab(e)) {\n      e.preventDefault();\n      this.blocker.focus();\n    }\n  }\n\n  tabbedUpBottom(e) {\n    if (this.blockingTab(e, true)) {\n      this.topFocus.focus();\n    }\n  }\n\n  tabbedDownBottom(e) {\n    if (this.blockingTab(e, true)) {\n      e.preventDefault();\n      this.topFocus.focus();\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.blocking !== this.props.blocking) {\n      if (nextProps.blocking) {\n        // blocking started\n        if (this.helper && this.helper.parentNode && this.helper.parentNode.contains\n          && this.helper.parentNode.contains(document.activeElement)) {\n          this.focused = document.activeElement;\n          // https://www.tjvantoll.com/2013/08/30/bugs-with-document-activeelement-in-internet-explorer/#blurring-the-body-switches-windows-in-ie9-and-ie10\n          if (this.focused && this.focused !== document.body) {\n            setTimeout(() => this.topFocus && this.topFocus.focus(), 0);\n          }\n        }\n      } else {\n        const ae = document.activeElement;\n        if (this.focused && (!ae || ae === document.body || ae === this.topFocus)) {\n          this.focused.focus();\n          this.focused = null;\n        }\n      }\n    }\n  }\n\n  render() {\n    const {\n      tag: Tag,\n      blocking,\n      className,\n      children,\n      message,\n      loader: Loader,\n      renderChildren,\n      ...attributes\n    } = this.props;\n\n    const classes = blocking ? `block-ui ${className}` : className;\n    const renderChilds = !blocking || renderChildren;\n\n    return (\n      <Tag {...attributes} className={classes} aria-busy={blocking}>\n        {blocking &&\n        <div tabIndex=\"0\" onKeyUp={this.tabbedUpTop} onKeyDown={this.tabbedDownTop} ref={this.catchTopFocus} />}\n        {renderChilds && children}\n        {blocking &&\n        <div className=\"block-ui-container\"\n          tabIndex=\"0\"\n          ref={this.catchBlocker}\n          onKeyUp={this.tabbedUpBottom}\n          onKeyDown={this.tabbedDownBottom}\n        >\n          <div className=\"block-ui-overlay\" />\n          <div className=\"block-ui-message-container\">\n            <div className=\"block-ui-message\">\n              {message}\n              {React.isValidElement(Loader) ? Loader : <Loader />}\n            </div>\n          </div>\n        </div>\n        }\n        <span ref={this.catchHelper} />\n      </Tag>\n    );\n  }\n}\n\nBlockUi.propTypes = propTypes;\nBlockUi.defaultProps = defaultProps;\n\nexport default BlockUi;\n","import React from 'react';\n\nfunction Loader() {\n  return (\n    <div className=\"loading-indicator\">\n      <span className=\"loading-bullet\">&bull;</span>{' '}\n      <span className=\"loading-bullet\">&bull;</span>{' '}\n      <span className=\"loading-bullet\">&bull;</span>\n    </div>\n  );\n}\n\nexport default Loader;\n"],"names":["emptyFunction","thatReturns","thatReturnsFalse","makeEmptyFunction","thatReturnsTrue","thatReturnsNull","thatReturnsThis","thatReturnsArgument","validateFormat","error","format","Error","args","argIndex","replace","name","framesToPop","secret","isRequired","ReactPropTypes","checkPropTypes","PropTypes","require$$1","propTypes","bool","node","string","oneOfType","func","BlockUi","tabbedUpTop","bind","tabbedDownTop","tabbedUpBottom","tabbedDownBottom","catchTopFocus","topFocus","catchBlocker","blocker","catchHelper","helper","withShift","props","blocking","e","key","keyCode","shiftKey","blockingTab","focus","preventDefault","nextProps","parentNode","contains","document","activeElement","focused","body","ae","Tag","tag","className","children","message","Loader","loader","renderChildren","attributes","classes","React","tabIndex","onKeyUp","onKeyDown","ref","isValidElement","Component","defaultProps"],"mappings":"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"}